#! /bin/bash
#SBATCH --mem=35G
#SBATCH -o ./out/%A.%x.%a.out # STDOUT
#SBATCH -e ./err/%A.%x.%a.err # STDERR
#SBATCH --array=1-366%50
#SBATCH --partition=carter-compute



samples=(SRR10899977 SRR10899820 SRR10898894 SRR10900566 SRR10801680 SRR10801664 SRR10842349 SRR10801695 SRR10900597 SRR10899812 SRR10899117 SRR10899112 SRR10899836 SRR10898129 SRR10801663 SRR10899994 SRR10899822 SRR10899975 SRR10898319 SRR10842375 SRR10900563 SRR10801720 SRR10899990 SRR10899989 SRR10842366 SRR10899805 SRR10899993 SRR10801684 SRR10898288 SRR10900568 SRR10899981 SRR10899967 SRR10842371 SRR10801657 SRR10898322 SRR10899838 SRR10900584 SRR10899118 SRR10899806 SRR10899961 SRR10898875 SRR10898958 SRR10801713 SRR11080225 SRR10898353 SRR10899969 SRR10842356 SRR10899983 SRR10842376 SRR10899963 SRR10900574 SRR10801650 SRR10898357 SRR10841991 SRR10801682 SRR10899683 SRR10898359 SRR10898371 SRR10898351 SRR10900577 SRR10801699 SRR10841921 SRR10900571 SRR10801671 SRR10900580 SRR10898953 SRR10899818 SRR10801692 SRR10842363 SRR10899986 SRR10898374 SRR10900002 SRR10898090 SRR10899966 SRR10900549 SRR10899833 SRR10900569 SRR10900546 SRR10900564 SRR10900013 SRR10898928 SRR10898098 SRR10899970 SRR10899817 SRR10900594 SRR10899821 SRR10868928 SRR10899962 SRR10899984 SRR10899976 SRR10899714 SRR10898368 SRR10898325 SRR10900557 SRR10900547 SRR10899115 SRR10900555 SRR10898362 SRR10900551 SRR10899973 SRR10898352 SRR10801701 SRR10900550 SRR10842377 SRR10801709 SRR10801646 SRR10899803 SRR10900000 SRR10898961 SRR10842352 SRR10899814 SRR10899968 SRR10899807 SRR10899771 SRR10841999 SRR10900016 SRR10801719 SRR10899825 SRR10842379 SRR10801654 SRR10898313 SRR10898372 SRR10801677 SRR10842381 SRR10898354 SRR10898959 SRR10801661 SRR10898361 SRR10842347 SRR10899955 SRR10899815 SRR10898327 SRR10898062 SRR10898356 SRR11080226 SRR10899987 SRR10900595 SRR10842368 SRR10842360 SRR10899791 SRR10898857 SRR10899831 SRR10898936 SRR10900019 SRR10899124 SRR10899811 SRR10899823 SRR10801749 SRR10898373 SRR10898294 SRR10898369 SRR10898950 SRR10900562 SRR10898309 SRR10898311 SRR10898937 SRR10898318 SRR10899998 SRR10898329 SRR10899754 SRR10898310 SRR11080191 SRR10801655 SRR10842094 SRR10899122 SRR10801691 SRR10898370 SRR10898097 SRR10900552 SRR10899920 SRR10900596 SRR10842365 SRR10900001 SRR10842378 SRR10801753 SRR10868923 SRR10801667 SRR10801652 SRR10842035 SRR10900559 SRR10899982 SRR10898312 SRR10899123 SRR10801700 SRR10801679 SRR10801698 SRR10801660 SRR10898086 SRR10900554 SRR10899996 SRR10899943 SRR10899839 SRR10899119 SRR10801662 SRR10801710 SRR10899715 SRR10898954 SRR10898293 SRR10801649 SRR10899992 SRR10801641 SRR10899824 SRR10898346 SRR10898308 SRR10900582 SRR10899802 SRR10842358 SRR10900589 SRR10801644 SRR10900548 SRR10801707 SRR10898085 SRR10899971 SRR10900567 SRR10900585 SRR10900572 SRR10900561 SRR10899819 SRR10899899 SRR10899919 SRR10801685 SRR10842373 SRR10801668 SRR11080170 SRR10898321 SRR10801694 SRR10868929 SRR10801653 SRR10868875 SRR10801690 SRR10899979 SRR10801686 SRR10801718 SRR10898290 SRR10868925 SRR10801689 SRR10899829 SRR10898315 SRR10899978 SRR10900586 SRR10801656 SRR10842008 SRR10900021 SRR10898291 SRR10841995 SRR10841996 SRR10900558 SRR10801711 SRR10899900 SRR10900018 SRR10898895 SRR10900011 SRR10842367 SRR10898092 SRR10900583 SRR10900576 SRR10899837 SRR10900570 SRR10900556 SRR10842034 SRR10801696 SRR10899120 SRR10898326 SRR10900575 SRR10898952 SRR10900010 SRR10801658 SRR10899997 SRR10899804 SRR10899121 SRR10900015 SRR10898307 SRR10801640 SRR10868927 SRR10898365 SRR10898358 SRR10898088 SRR10900003 SRR10801683 SRR10900592 SRR10899828 SRR10801648 SRR10801676 SRR10842380 SRR10801704 SRR10900565 SRR10899942 SRR10900014 SRR10900591 SRR10801693 SRR10900560 SRR10899965 SRR10801665 SRR10899835 SRR10801750 SRR10898096 SRR10900553 SRR10899988 SRR10898094 SRR10899840 SRR10899816 SRR10801754 SRR10900008 SRR10898069 SRR10898095 SRR10900020 SRR10868926 SRR10899826 SRR10898316 SRR10900573 SRR10898956 SRR10900578 SRR10900581 SRR10898289 SRR10801678 SRR10899113 SRR10900579 SRR10899999 SRR10801688 SRR10898375 SRR10898314 SRR10899713 SRR10898099 SRR10898072 SRR10899941 SRR10898320 SRR10899116 SRR10842068 SRR10899974 SRR10899991 SRR10900009 SRR10801669 SRR10898324 SRR10898317 SRR10842369 SRR10899954 SRR10898292 SRR10801659 SRR10899114 SRR10868924 SRR10801687 SRR10899699 SRR10900006 SRR10899753 SRR10899985 SRR10900593 SRR10801681 SRR10842364 SRR10801751 SRR10899006 SRR10801752 SRR10899980 SRR10898040 SRR10801647 SRR10900012 SRR10898323 SRR10898348 SRR10898960 SRR10899813 SRR10898951 SRR10900590 SRR10898957 SRR10898093 SRR10842351 SRR10899972 SRR10899995)
sample=${samples[$SLURM_ARRAY_TASK_ID-1]}


date

input_dir=/cellar/controlled/dbgap-genetic/phs000452_melanoma_genome_liu/aligned
output_dir=/cellar/users/mpagadal/immunotherapy-trials/data/bams

cd $output_dir

samtools view -b $input_dir/$sample.recal.bam chr1 > $output_dir/$sample.chr1.recal.bam
samtools index $output_dir/$sample.chr1.recal.bam

date
